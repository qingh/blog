<!DOCTYPE html><html><head><title>Untitled</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style>
.note-content  {font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif;}

</style></head><body><div id='preview-contents' class='note-content'>
                        
                    

<p>typescript 特点</p>

<pre class="prettyprint hljs-dark"><code class="hljs lsl"><div class="hljs-line"><span class="hljs-number">1.</span>编译型语言（javascript是解释型）
</div><div class="hljs-line"><span class="hljs-number">2.</span>强类型（javascript是弱类型）
</div><div class="hljs-line"><span class="hljs-number">3.</span>真正面向对象，有接口，有泛型，有枚举，有访问修饰符（javascript基于对象）
</div><div class="hljs-line"><span class="hljs-number">4.</span>支持AMD
</div></code></pre>

<p>1.安装（version=2.4.2）</p>

<pre class="prettyprint hljs-dark"><code class="hljs stylus"><div class="hljs-line">npm <span class="hljs-selector-tag">i</span> typescript -g
</div></code></pre>

<p>2.编译（typescript可以有以下三种扩展名）</p>

<pre class="prettyprint hljs-dark"><code class="hljs stylus"><div class="hljs-line">tsc <span class="hljs-number">1</span><span class="hljs-selector-class">.ts</span>
</div><div class="hljs-line">tsc <span class="hljs-number">1</span><span class="hljs-selector-class">.tsx</span>
</div><div class="hljs-line">tsc <span class="hljs-number">1</span><span class="hljs-selector-class">.d</span><span class="hljs-selector-class">.ts</span>
</div></code></pre>

<p>3.typescript的类型</p>

<p>a.常见的有这些   </p>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-built_in">number</span>,<span class="hljs-built_in">string</span>,<span class="hljs-built_in">boolean</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">undefined</span>
</div></code></pre>

<p>b.void –&gt; 空</p>

<pre class="prettyprint hljs-dark"><code class="hljs actionscript"><div class="hljs-line"><span class="hljs-keyword">var</span> a:<span class="hljs-keyword">void</span>;
</div><div class="hljs-line">a = <span class="hljs-number">12</span>; <span class="hljs-comment">//报错，a不能被赋为任何值</span>
</div></code></pre>

<p>c.null、undefined、boolean</p>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-literal">null</span>只有一种值  <span class="hljs-literal">null</span>
</div><div class="hljs-line"><span class="hljs-literal">undefined</span>只有一种值  <span class="hljs-literal">undefined</span>
</div><div class="hljs-line"><span class="hljs-built_in">boolean</span> <span class="hljs-literal">true</span>或<span class="hljs-literal">false</span>
</div></code></pre>

<p>d.enum（枚举，指有限的可能性）—enumerate</p>

<pre class="prettyprint hljs-dark"><code class="hljs crystal"><div class="hljs-line"><span class="hljs-symbol">eg:</span>
</div><div class="hljs-line">    性别
</div><div class="hljs-line">    星期
</div><div class="hljs-line">例：
</div><div class="hljs-line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">GENDER</span>{</span>
</div><div class="hljs-line">    male,
</div><div class="hljs-line">    female
</div><div class="hljs-line">}
</div><div class="hljs-line">var <span class="hljs-symbol">sex:</span>GENDER; 
</div><div class="hljs-line">sex = GENDER.male;  
</div><div class="hljs-line">console.log(sex);
</div></code></pre>

<p>e.any–&gt;变体变量，可接受任何类型（js里面原本的变量就是变体变量）</p>

<pre class="prettyprint hljs-dark"><code class="hljs nginx"><div class="hljs-line"><span class="hljs-attribute">var</span> a:any;
</div><div class="hljs-line"><span class="hljs-attribute">a</span> = <span class="hljs-string">'abc'</span>;
</div><div class="hljs-line"><span class="hljs-attribute">a</span> = <span class="hljs-number">12</span>;
</div></code></pre>

<p>4.typescript的类型推测（初始化的时候，就已经确定类型，也称作 –&gt; 隐式类型声明）</p>

<pre class="prettyprint hljs-dark"><code class="hljs cal"><div class="hljs-line"><span class="hljs-keyword">var</span> a = <span class="hljs-number">12</span>;
</div><div class="hljs-line">a = <span class="hljs-string">'abc'</span>;//报错  Type <span class="hljs-string">'"abc"'</span> is <span class="hljs-keyword">not</span> assignable <span class="hljs-keyword">to</span> type <span class="hljs-string">'number'</span>
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-keyword">var</span> a = <span class="hljs-number">12</span>;
</div><div class="hljs-line">等价于
</div><div class="hljs-line"><span class="hljs-keyword">var</span> a:number = <span class="hljs-number">12</span>;
</div></code></pre>

<p>5.联合类型 —&gt;  给变量设置多种类型</p>

<pre class="prettyprint hljs-dark"><code class="hljs nginx"><div class="hljs-line"><span class="hljs-attribute">var</span> a:number|string;
</div><div class="hljs-line"><span class="hljs-attribute">a</span> = <span class="hljs-number">12</span>;
</div><div class="hljs-line"><span class="hljs-attribute">a</span> = <span class="hljs-string">'abc'</span>;
</div></code></pre>

<p>6.声明数组</p>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">23</span>,<span class="hljs-number">67</span>,<span class="hljs-number">12</span>];
</div><div class="hljs-line">等价于
</div><div class="hljs-line"><span class="hljs-keyword">var</span> arr:<span class="hljs-built_in">number</span>[] = [<span class="hljs-number">23</span>,<span class="hljs-number">67</span>,<span class="hljs-number">12</span>];
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">23</span>,<span class="hljs-string">'abc'</span>,<span class="hljs-literal">true</span>];
</div><div class="hljs-line">等价于
</div><div class="hljs-line"><span class="hljs-keyword">var</span> arr:<span class="hljs-built_in">any</span>[] = [<span class="hljs-number">23</span>,<span class="hljs-string">'abc'</span>,<span class="hljs-literal">true</span>];
</div></code></pre>

<p>7.函数</p>

<p>a.设置参数类型</p>

<pre class="prettyprint hljs-dark"><code class="hljs fortran"><div class="hljs-line"><span class="hljs-function"><span class="hljs-keyword">function</span></span> show(a,b){
</div><div class="hljs-line">    console.<span class="hljs-built_in">log</span>(a + b);
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line">等价于
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-function"><span class="hljs-keyword">function</span></span> show(a:<span class="hljs-built_in">any</span>,b:<span class="hljs-built_in">any</span>){
</div><div class="hljs-line">    console.<span class="hljs-built_in">log</span>(a + b);
</div><div class="hljs-line">}
</div></code></pre>

<hr>

<pre class="prettyprint hljs-dark"><code class="hljs less"><div class="hljs-line"><span class="hljs-selector-tag">function</span> <span class="hljs-selector-tag">show</span>(<span class="hljs-attribute">a</span>:number,<span class="hljs-attribute">b</span>:number){
</div><div class="hljs-line">    <span class="hljs-selector-tag">console</span><span class="hljs-selector-class">.log</span>(a + b);
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-selector-tag">show</span>(<span class="hljs-string">'12'</span>,<span class="hljs-number">7</span>);<span class="hljs-comment">//报错</span>
</div><div class="hljs-line"><span class="hljs-selector-tag">show</span>(<span class="hljs-number">12</span>,<span class="hljs-number">7</span>); 
</div></code></pre>

<hr>

<pre class="prettyprint hljs-dark"><code class="hljs less"><div class="hljs-line">在<span class="hljs-selector-tag">typescript</span>里面，形参个数和实参个数必须是相等，否则报错。<span class="hljs-selector-tag">eg</span>
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-selector-tag">function</span> <span class="hljs-selector-tag">show</span>(<span class="hljs-attribute">a</span>:number,<span class="hljs-attribute">b</span>:number){
</div><div class="hljs-line">    <span class="hljs-selector-tag">console</span><span class="hljs-selector-class">.log</span>(a + b);
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-selector-tag">show</span>(<span class="hljs-number">20</span>,<span class="hljs-number">30</span>,<span class="hljs-number">60</span>);<span class="hljs-comment">//报错  Expected 2 arguments, but got 3.</span>
</div><div class="hljs-line"><span class="hljs-selector-tag">show</span>(<span class="hljs-number">20</span>);<span class="hljs-comment">//报错  Expected 2 arguments, but got 1.</span>
</div><div class="hljs-line"><span class="hljs-selector-tag">show</span>(<span class="hljs-number">20</span>,<span class="hljs-number">30</span>);<span class="hljs-comment">//正确</span>
</div></code></pre>

<p>b.可选参数</p>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line">参数z可有可无，如果有类型必须为<span class="hljs-built_in">number</span>，eg:
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span>(<span class="hljs-params">x:<span class="hljs-built_in">number</span>,y:<span class="hljs-built_in">number</span>,z?:<span class="hljs-built_in">number</span></span>)</span>{
</div><div class="hljs-line">    <span class="hljs-keyword">return</span> x + y + z;
</div><div class="hljs-line">}
</div><div class="hljs-line">show(<span class="hljs-number">10</span>,<span class="hljs-number">45</span>);<span class="hljs-comment">//正确</span>
</div><div class="hljs-line">show(<span class="hljs-number">10</span>,<span class="hljs-number">45</span>,<span class="hljs-number">90</span>);<span class="hljs-comment">//正确</span>
</div><div class="hljs-line">show(<span class="hljs-number">10</span>,<span class="hljs-number">45</span>,<span class="hljs-string">'90'</span>);<span class="hljs-comment">//错误</span>
</div></code></pre>

<p>c.设置返回值类型</p>

<pre class="prettyprint hljs-dark"><code class="hljs ada"><div class="hljs-line"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span>(a:number,b:number):number{
</div><div class="hljs-line">    <span class="hljs-keyword">return</span> <span class="hljs-type">'ccc'</span>;//<span class="hljs-keyword">Type</span> <span class="hljs-type">'"ccc"' </span><span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> assignable to <span class="hljs-keyword">type</span> <span class="hljs-type">'number'.
</span></div><div class="hljs-line">}
</div></code></pre>

<p>d.函数签名</p>

<pre class="prettyprint hljs-dark"><code class="hljs groovy"><div class="hljs-line">function ajax(<span class="hljs-string">url:</span>string,<span class="hljs-string">success:</span>(<span class="hljs-string">res:</span>string,<span class="hljs-string">code:</span>number)=&gt;<span class="hljs-keyword">void</span>,<span class="hljs-string">error:</span>(<span class="hljs-string">code:</span>number)=&gt;<span class="hljs-keyword">void</span>){
</div><div class="hljs-line">
</div><div class="hljs-line">}
</div><div class="hljs-line">以上ajax函数的意思是：接受<span class="hljs-number">3</span>个参数，第一个参数是url，类型是字符串;
</div><div class="hljs-line">第二和第三个参数是一个函数，分别是成功和失败，成功接受两个参数，结果是字符串，状态码code是number形，返回值是空;错误接受一个参数，number型的错误码，返回值是空;
</div></code></pre>

<p>8.外部变量声明  declare</p>

<pre class="prettyprint hljs-dark"><code class="hljs javascript"><div class="hljs-line">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
</div><div class="hljs-line">    $(<span class="hljs-string">'#box'</span>).css(<span class="hljs-string">'width'</span>,<span class="hljs-string">'200px'</span>);
</div><div class="hljs-line">});
</div><div class="hljs-line"><span class="hljs-comment">//报错， Cannot find name '$'.  typescript并不知道$是什么</span>
</div><div class="hljs-line"><span class="hljs-comment">//用 declare 声明一下</span>
</div><div class="hljs-line">
</div><div class="hljs-line">declare <span class="hljs-keyword">var</span> $;
</div><div class="hljs-line">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
</div><div class="hljs-line">    $(<span class="hljs-string">'#box'</span>).css(<span class="hljs-string">'width'</span>,<span class="hljs-string">'200px'</span>);
</div><div class="hljs-line">});
</div></code></pre>

<p>9.复合类型（对象类型）</p>

<pre class="prettyprint hljs-dark"><code class="hljs groovy"><div class="hljs-line">let <span class="hljs-string">point:</span>{<span class="hljs-string">x:</span>number,<span class="hljs-string">y:</span>number};
</div><div class="hljs-line">point = <span class="hljs-number">12</span>;<span class="hljs-comment">//报错</span>
</div></code></pre>

<hr>

<pre class="prettyprint hljs-dark"><code class="hljs groovy"><div class="hljs-line">对象的key和数量必须一致：
</div><div class="hljs-line">
</div><div class="hljs-line">let <span class="hljs-string">point:</span>{<span class="hljs-string">x:</span>number,<span class="hljs-string">y:</span>number};
</div><div class="hljs-line">
</div><div class="hljs-line">point = {<span class="hljs-string">a:</span><span class="hljs-number">23</span>,<span class="hljs-string">b:</span><span class="hljs-number">98</span>};<span class="hljs-comment">//报错</span>
</div><div class="hljs-line">point = {<span class="hljs-string">x:</span><span class="hljs-number">23</span>};<span class="hljs-comment">//报错</span>
</div><div class="hljs-line">point = {<span class="hljs-string">x:</span><span class="hljs-number">23</span>,<span class="hljs-string">y:</span><span class="hljs-number">98</span>,<span class="hljs-string">z:</span><span class="hljs-number">55</span>};<span class="hljs-comment">//报错</span>
</div><div class="hljs-line">point = {<span class="hljs-string">x:</span><span class="hljs-number">23</span>,<span class="hljs-string">y:</span><span class="hljs-number">98</span>};<span class="hljs-comment">//正确</span>
</div></code></pre>

<hr>

<pre class="prettyprint hljs-dark"><code class="hljs groovy"><div class="hljs-line">可选参数
</div><div class="hljs-line">let <span class="hljs-string">point:</span>{<span class="hljs-string">x:</span>number,<span class="hljs-string">y:</span>number,z?:number};
</div><div class="hljs-line">point = {<span class="hljs-string">x:</span><span class="hljs-number">23</span>,<span class="hljs-string">y:</span><span class="hljs-number">98</span>};<span class="hljs-comment">//正确</span>
</div><div class="hljs-line">point = {<span class="hljs-string">x:</span><span class="hljs-number">23</span>,<span class="hljs-string">y:</span><span class="hljs-number">98</span>,<span class="hljs-string">z:</span><span class="hljs-number">55</span>};<span class="hljs-comment">//正确</span>
</div></code></pre>

<p>10.接口</p>

<p>eg.</p>

<pre class="prettyprint hljs-dark"><code class="hljs dts"><div class="hljs-line">interface Point{
</div><div class="hljs-line"><span class="hljs-symbol">    x:</span>number,
</div><div class="hljs-line"><span class="hljs-symbol">    y:</span>number
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line">let p:Point;
</div><div class="hljs-line">p = {
</div><div class="hljs-line"><span class="hljs-symbol">    x:</span><span class="hljs-number">20</span>,
</div><div class="hljs-line"><span class="hljs-symbol">    y:</span><span class="hljs-number">30</span>
</div><div class="hljs-line">}<span class="hljs-comment">//ok</span>
</div><div class="hljs-line">p = {
</div><div class="hljs-line"><span class="hljs-symbol">    x:</span><span class="hljs-number">20</span>,
</div><div class="hljs-line"><span class="hljs-symbol">    y:</span><span class="hljs-number">30</span>,
</div><div class="hljs-line"><span class="hljs-symbol">    z:</span><span class="hljs-number">40</span>
</div><div class="hljs-line">}<span class="hljs-comment">//报错</span>
</div></code></pre>

<p>eg.</p>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">interface</span> A {
</div><div class="hljs-line">    x:<span class="hljs-built_in">number</span>,
</div><div class="hljs-line">    y:<span class="hljs-built_in">number</span> 
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-keyword">interface</span> B {
</div><div class="hljs-line">    x:<span class="hljs-built_in">number</span>,
</div><div class="hljs-line">    y:<span class="hljs-built_in">number</span>,
</div><div class="hljs-line">    z:<span class="hljs-built_in">number</span>
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-keyword">var</span> c:A|B;
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-built_in">console</span>.log(c.x)
</div><div class="hljs-line"><span class="hljs-built_in">console</span>.log(c.y)
</div></code></pre>

<p>11.面向对象 <br>
eg.</p>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">class</span> Person{
</div><div class="hljs-line">    name:<span class="hljs-built_in">string</span>;
</div><div class="hljs-line">    age:<span class="hljs-built_in">number</span>;
</div><div class="hljs-line">    <span class="hljs-keyword">constructor</span>(<span class="hljs-params">name:<span class="hljs-built_in">string</span>,age:<span class="hljs-built_in">number</span></span>){
</div><div class="hljs-line">        <span class="hljs-keyword">this</span>.name = name;
</div><div class="hljs-line">        <span class="hljs-keyword">this</span>.age = age;
</div><div class="hljs-line">    }
</div><div class="hljs-line">    showMsg(){
</div><div class="hljs-line">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`我的名字是<span class="hljs-subst">${this.name}</span>，我今年<span class="hljs-subst">${this.age}</span>岁`</span>);
</div><div class="hljs-line">    }
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">'qingh'</span>,<span class="hljs-number">16</span>);
</div><div class="hljs-line">p.showMsg();
</div></code></pre>

<p>访问修饰符</p>

<ul><li>public  //所有人都能访问，没定默认就是public</li>
<li>private   //只有类内部能才访问 </li>
<li>protect   //只有子类能访问</li>
</ul>

<p>private 外部不能访问 eg.</p>

<pre class="prettyprint hljs-dark"><code class="hljs cs"><div class="hljs-line"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{
</div><div class="hljs-line">    name:<span class="hljs-keyword">string</span>;
</div><div class="hljs-line">    <span class="hljs-keyword">private</span> age:number;
</div><div class="hljs-line">}
</div><div class="hljs-line"><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> Person();
</div><div class="hljs-line">p.name = <span class="hljs-string">'qingh'</span>;
</div><div class="hljs-line">p.age = <span class="hljs-number">16</span>;<span class="hljs-comment">//报错，age是private</span>
</div></code></pre>

<p>private 类内部可以访问 eg.</p>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">class</span> Person{
</div><div class="hljs-line">    name:<span class="hljs-built_in">string</span>;
</div><div class="hljs-line">    <span class="hljs-keyword">private</span> age:<span class="hljs-built_in">number</span>;
</div><div class="hljs-line">
</div><div class="hljs-line">    <span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>){
</div><div class="hljs-line">        <span class="hljs-keyword">this</span>.age = <span class="hljs-number">30</span>;
</div><div class="hljs-line">    }
</div><div class="hljs-line">}
</div><div class="hljs-line"><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> Person();
</div><div class="hljs-line">p.name = <span class="hljs-string">'qingh'</span>;
</div></code></pre>

<p>12.泛型</p>

<pre class="prettyprint hljs-dark"><code class="hljs ruby"><div class="hljs-line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calc</span>&lt;T&gt;{</span>
</div><div class="hljs-line">    <span class="hljs-symbol">a:</span>T;
</div><div class="hljs-line">    <span class="hljs-symbol">b:</span>T;
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line">let obj = new Calc&lt;number&gt;();
</div><div class="hljs-line"><span class="hljs-regexp">//ok</span>
</div><div class="hljs-line">obj.a = <span class="hljs-number">20</span>;
</div><div class="hljs-line">obj.b = <span class="hljs-number">30</span>;
</div><div class="hljs-line"><span class="hljs-regexp">//</span>报错
</div><div class="hljs-line">obj.a = <span class="hljs-number">20</span>;
</div><div class="hljs-line">obj.b = <span class="hljs-string">'abc'</span>;
</div></code></pre>

<hr>

<pre class="prettyprint hljs-dark"><code class="hljs typescript"><div class="hljs-line"><span class="hljs-keyword">class</span> Calc&lt;T&gt;{
</div><div class="hljs-line">        a:T;
</div><div class="hljs-line">        b:T;
</div><div class="hljs-line">    }
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-keyword">let</span> obj = <span class="hljs-keyword">new</span> Calc&lt;<span class="hljs-built_in">number</span>|<span class="hljs-built_in">string</span>&gt;();
</div><div class="hljs-line"><span class="hljs-comment">//ok</span>
</div><div class="hljs-line">obj.a = <span class="hljs-number">20</span>;
</div><div class="hljs-line">obj.b = <span class="hljs-number">30</span>;
</div><div class="hljs-line"><span class="hljs-comment">//ok</span>
</div><div class="hljs-line">obj.a = <span class="hljs-number">20</span>;
</div><div class="hljs-line">obj.b = <span class="hljs-string">'abc'</span>;
</div></code></pre></div></body></html>